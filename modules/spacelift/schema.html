<!DOCTYPE html>
<html lang="en" data-accent-color="cyan" data-content_root="../../">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Spacelift Schema - cartography documentation</title><link rel="shortcut icon" href="../../_static/logo-vertical.svg"/><link rel="search" title="Search" href="../../search.html" /><link rel="next" title="Tailscale" href="../tailscale/index.html" /><link rel="prev" title="Spacelift Configuration" href="config.html" /><script>
    function setColorMode(t){let e=document.documentElement;e.setAttribute("data-color-mode",t);let a=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches,s=t;"auto"===t&&(s=a?"dark":"light"),"light"===s?(e.classList.remove("dark"),e.classList.add("light")):(e.classList.remove("light"),e.classList.add("dark"))}
    setColorMode(localStorage._theme||"auto");
  </script><link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=e1a1ceaf" />
    <link rel="stylesheet" type="text/css" href="../../_static/shibuya.css?v=a318c5d4" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css?v=76b2166b" />
    <link media="print" rel="stylesheet" type="text/css" href="../../_static/print.css?v=20ff2c19" />
    <link rel="stylesheet" type="text/css" href="../../_static/custom.css?v=1da16d3f" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@600;700&display=swap" rel="stylesheet">
<style>
:root {
  --sy-f-heading: 'Inter', var(--sy-f-sys), sans-serif;
}
</style>
    <meta property="og:type" content="website"/><meta property="og:title" content="Spacelift Schema"/>
    <meta name="twitter:card" content="summary"/>
  </head>
<body><div class="sy-head">
  <div class="sy-head-blur"></div>
  <div class="sy-head-inner sy-container mx-auto">
    <a class="sy-head-brand" href="../../index.html">
      <img class="light-logo" src="../../_static/logo-vertical.svg" alt="cartography" height="28" loading="lazy" />
      <img class="dark-logo" src="../../_static/logo-vertical.svg" alt="cartography" height="28" loading="lazy" />
      <strong>cartography</strong>
    </a>
    <div class="sy-head-nav" id="head-nav">
      <nav class="sy-head-links"></nav>
      <div class="sy-head-extra flex items-center print:hidden"><form class="searchbox flex items-center" action="../../search.html" method="get">
  <input type="text" name="q" placeholder="Search" />
  <kbd>/</kbd>
</form><div class="sy-head-socials">
  <a href="https://github.com/cartography-cncf/cartography" aria-label="GitHub">
    <iconify-icon icon="simple-icons:github"></iconify-icon>
  </a>
  <a href="https://communityinviter.com/apps/cloud-native/cncf" aria-label="Slack">
    <iconify-icon icon="simple-icons:slack"></iconify-icon>
  </a></div></div>
    </div>
    <div class="sy-head-actions flex items-center shrink-0 print:hidden"><button class="js-theme theme-switch flex items-center"
data-aria-auto="Switch to light color mode"
data-aria-light="Switch to dark color mode"
data-aria-dark="Switch to auto color mode">
<i class="i-lucide theme-icon"></i>
</button><button class="md:hidden flex items-center js-menu" aria-label="Menu" type="button" aria-controls="head-nav" aria-expanded="false">
        <div class="hamburger">
          <span class="hamburger_1"></span>
          <span class="hamburger_2"></span>
          <span class="hamburger_3"></span>
        </div>
      </button>
    </div>
  </div>
</div>
<div class="sy-page sy-container flex mx-auto">
  <aside id="lside" class="sy-lside md:w-72 md:shrink-0 print:hidden">
    <div class="sy-lside-inner md:sticky">
      <div class="sy-scrollbar p-6">
        <div class="globaltoc" data-expand-depth="0"><p class="caption" role="heading" aria-level="3"><span class="caption-text">Basic Use</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../install.html">Quick start: Install and Run Cartography On Test Machine</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../usage/index.html">Usage</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../usage/rules.html">Cartography Rules</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../usage/tutorial.html">Usage Tutorial</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../usage/drift-detect.html">How to use Drift-Detection</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../usage/applications.html">Building around Cartography</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../usage/samplequeries.html">Sample queries</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../usage/schema.html">Cartography Schema</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../usage/aws-privilege-escalation-queries.html">AWS IAM Privilege Escalation Methods and Mitigation</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../ops.html">Cartography Production Operations</a></li>
</ul>
<p class="caption" role="heading" aria-level="3"><span class="caption-text">Intel Modules</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../airbyte/index.html">Airbyte</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../airbyte/config.html">Airbyte Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../airbyte/schema.html">Airbyte Schema</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../anthropic/index.html">Anthropic</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../anthropic/config.html">Anthropic Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../anthropic/schema.html">Anthropic Schema</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../aws/index.html">Amazon Web Services (AWS)</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../aws/config.html">AWS Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../aws/permissions-mapping.html">Permissions Mapping</a></li>
<li class="toctree-l2"><a class="reference internal" href="../aws/schema.html">AWS Schema</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../azure/index.html">Microsoft Azure</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../azure/config.html">Azure Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../azure/schema.html">Azure Schema</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../bigfix/index.html">BigFix</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../bigfix/config.html">BigFix Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../bigfix/schema.html">BigFix Schema</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../cloudflare/index.html">Cloudflare</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../cloudflare/config.html">Cloudflare Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cloudflare/schema.html">Cloudflare Schema</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../crowdstrike/index.html">Crowdstrike</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../crowdstrike/config.html">Crowdstrike Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../crowdstrike/schema.html">Crowdstrike Schema</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../cve/index.html">CVE</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../cve/config.html">CVE Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cve/schema.html">CVE Schema</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../digitalocean/index.html">DigitalOcean</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../digitalocean/config.html">Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../digitalocean/schema.html">DigitalOcean Schema</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../duo/index.html">Duo</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../duo/config.html">Duo Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../duo/schema.html">Duo Schema</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../entra/index.html">Microsoft Entra (formerly Azure AD)</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../entra/config.html">Entra Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../entra/schema.html">Entra Schema</a></li>
<li class="toctree-l2"><a class="reference internal" href="../entra/examples.html">Example Queries</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../gcp/index.html">Google Cloud Platform (GCP)</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../gcp/config.html">GCP Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../gcp/schema.html">GCP Schema</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../github/index.html">Github</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../github/config.html">GitHub Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../github/schema.html">Github Schema</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../gitlab/index.html">GitLab</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../gitlab/config.html">GitLab Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../gitlab/schema.html">GitLab Schema</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../googleworkspace/index.html">Google Workspace</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../googleworkspace/config.html">Google Workspace Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../googleworkspace/schema.html">Google Workspace Schema</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../gsuite/index.html">Google GSuite</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../gsuite/config.html">GSuite Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../gsuite/config.html#method-2-using-oauth">Method 2: Using OAuth</a></li>
<li class="toctree-l2"><a class="reference internal" href="../gsuite/schema.html">GSuite Schema</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../jamf/index.html">Jamf</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../jamf/schema.html">Jamf Schema</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../kandji/index.html">Kandji</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../kandji/config.html">Kandji Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../kandji/schema.html">Kandji Schema</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../keycloak/index.html">Keycloak</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../keycloak/config.html">Keycloak Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../keycloak/schema.html">Keycloak Schema</a></li>
<li class="toctree-l2"><a class="reference internal" href="../keycloak/analysis.html">Keycloak Built-In Analysis</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../kubernetes/index.html">Kubernetes</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../kubernetes/config.html">Kubernetes Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../kubernetes/schema.html">Kubernetes Schema</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../lastpass/index.html">Lastpass</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../lastpass/config.html">Lastpass Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../lastpass/schema.html">Lastpass Schema</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../oci/index.html">Oracle Cloud Infrastructure</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../oci/config.html">OCI Config</a></li>
<li class="toctree-l2"><a class="reference internal" href="../oci/schema.html">OCI Schema</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../okta/index.html">Okta</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../okta/config.html">Okta Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../okta/schema.html">Okta Schema</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../ontology/index.html">Ontology in Cartography</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../ontology/config.html">Ontology Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ontology/schema.html">Ontology Schema</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../openai/index.html">OpenAI</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../openai/config.html">OpenAI Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../openai/schema.html">OpenAI Schema</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../pagerduty/index.html">PagerDuty</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../pagerduty/config.html">Pagerduty Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../pagerduty/schema.html">Pagerduty Schema</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../scaleway/index.html">Scaleway</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../scaleway/config.html">Scaleway Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../scaleway/schema.html">Scaleway Schema</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../semgrep/index.html">Semgrep</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../semgrep/config.html">Semgrep Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../semgrep/schema.html">Semgrep Schema</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../sentinelone/index.html">SentinelOne</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../sentinelone/config.html">SentinelOne Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../sentinelone/config.html#required-permissions">Required Permissions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../sentinelone/schema.html">SentinelOne Schema</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../slack/index.html">Slack</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../slack/config.html">Slack Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../slack/schema.html">Slack Schema</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../snipeit/index.html">SnipeIT</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../snipeit/config.html">SnipeIT Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../snipeit/schema.html">SnipeIT Schema</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Spacelift</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="config.html">Spacelift Configuration</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Spacelift Schema</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../tailscale/index.html">Tailscale</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../tailscale/config.html">Tailscale Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tailscale/schema.html">Tailscale Schema</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../trivy/index.html">Trivy</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../trivy/config.html">Trivy Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../trivy/config.html#notes-on-running-trivy">Notes on running Trivy</a></li>
<li class="toctree-l2"><a class="reference internal" href="../trivy/schema.html">Trivy Schema</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../workday/index.html">Workday</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../workday/config.html">Workday Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../workday/schema.html">Workday Schema</a></li>
<li class="toctree-l2"><a class="reference internal" href="../workday/examples.html">Sample Cypher Queries</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading" aria-level="3"><span class="caption-text">Development Docs</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../dev/developer-guide.html">Cartography Developer Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../dev/writing-intel-modules.html">How to write a new intel module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../dev/writing-analysis-jobs.html">How to extend Cartography with Analysis Jobs</a></li>
</ul>
<p class="caption" role="heading" aria-level="3"><span class="caption-text">References</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../references/model.html">Model</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../references/orm.html">ORM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../references/sync.html">Sync</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../references/aws_client.html">AWS Client</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../references/driftdetect.html">DriftDetect</a></li>
</ul>
<p class="caption" role="heading" aria-level="3"><span class="caption-text">Get In Touch</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../contact.html">Contact</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../contact.html#community-meeting">Community Meeting</a></li>
</ul>

        </div>
      </div>
    </div>
  </aside>
  <div class="lside-overlay js-menu" role="button" aria-label="Close left sidebar" aria-controls="lside" aria-expanded="false"></div>
  <aside id="rside" class="sy-rside pb-3 w-64 shrink-0 order-last">
    <button class="rside-close js-menu xl:hidden" aria-label="Close Table of Contents" type="button" aria-controls="rside" aria-expanded="false">
      <i class="i-lucide close"></i>
    </button>
    <div class="sy-scrollbar sy-rside-inner px-6 xl:top-16 xl:sticky xl:pl-0 pt-6 pb-4"><div class="localtoc"><h3>On this page</h3><ul>
<li><a class="reference internal" href="#spaceliftaccount">SpaceliftAccount</a><ul>
<li><a class="reference internal" href="#relationships">Relationships</a></li>
</ul>
</li>
<li><a class="reference internal" href="#spaceliftspace">SpaceliftSpace</a><ul>
<li><a class="reference internal" href="#id1">Relationships</a></li>
</ul>
</li>
<li><a class="reference internal" href="#spaceliftuser">SpaceliftUser</a><ul>
<li><a class="reference internal" href="#id2">Relationships</a></li>
</ul>
</li>
<li><a class="reference internal" href="#spaceliftstack">SpaceliftStack</a><ul>
<li><a class="reference internal" href="#id3">Relationships</a></li>
</ul>
</li>
<li><a class="reference internal" href="#spaceliftworkerpool">SpaceliftWorkerPool</a><ul>
<li><a class="reference internal" href="#id4">Relationships</a></li>
</ul>
</li>
<li><a class="reference internal" href="#spaceliftworker">SpaceliftWorker</a><ul>
<li><a class="reference internal" href="#id5">Relationships</a></li>
</ul>
</li>
<li><a class="reference internal" href="#spaceliftrun">SpaceliftRun</a><ul>
<li><a class="reference internal" href="#id6">Relationships</a></li>
</ul>
</li>
<li><a class="reference internal" href="#spaceliftgitcommit">SpaceliftGitCommit</a><ul>
<li><a class="reference internal" href="#id7">Relationships</a></li>
</ul>
</li>
</ul>
</div><a class="js-repo-stats repo-stats flex items-center" href="https://github.com/cartography-cncf/cartography"
  data-type="github" data-user="cartography-cncf" data-repo="cartography">
  <span class="w-8 flex items-center justify-around shrink-0 text-3xl">
    <iconify-icon icon="simple-icons:github"></iconify-icon>
  </span>
  <span class="flex-grow px-2 break-all">
    
    
      <span>cartography</span>
    
    <span class="flex text-sm repo-stats-count">
      <span class="flex items-center pr-3">
        <iconify-icon icon="lucide:star"></iconify-icon>
        <strong class="js-repo-stars ml-1">0</strong>
      </span>
      <span class="flex items-center">
        <iconify-icon icon="lucide:git-fork"></iconify-icon>
        <strong class="js-repo-forks ml-1">0</strong>
      </span>
    </span>
  </span>
</a><div class="edit-this-page">
  <a href="https://github.com/cartography-cncf/cartography/blob/master/docs/root/modules/spacelift/schema.md">Edit this page</a>
</div><div id="ethical-ad-placement" data-ea-publisher="readthedocs"></div></div>
  </aside>
  <div class="rside-overlay js-menu" role="button" aria-label="Close Table of Contents" aria-controls="rside" aria-expanded="false"></div>
  <main class="sy-main w-full max-sm:max-w-full print:pt-6">
<div class="sy-breadcrumbs" role="navigation">
  <div class="sy-breadcrumbs-inner flex items-center">
    <div class="md:hidden mr-3">
      <button class="js-menu" aria-label="Menu" type="button" aria-controls="lside" aria-expanded="false">
        <i class="i-lucide menu"></i>
      </button>
    </div>
    <ol class="flex-1" itemscope itemtype="https://schema.org/BreadcrumbList"><li itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
        <a itemprop="item" href="../../index.html"><span itemprop="name">cartography</span></a>
        <span>/</span>
        <meta itemprop="position" content="1" />
      </li><li itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
        <a itemprop="item" href="index.html"><span itemprop="name">Spacelift</span></a>
        <span>/</span>
        <meta itemprop="position" content="2" />
      </li><li itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
        <strong itemprop="name">Spacelift Schema</strong>
        <meta itemprop="position" content="3" />
      </li></ol>
    <div class="xl:hidden ml-1">
      <button class="js-menu" aria-label="Show table of contents" type="button" aria-controls="rside"
        aria-expanded="false">
        <i class="i-lucide outdent"></i>
      </button>
    </div>
  </div>
</div><div class="flex flex-col break-words justify-between">
      <div class="relative min-w-0 max-w-6xl px-6 pb-6 pt-8 xl:px-12">
  <div class="copy-page-wrapper relative pb-4 lg:absolute lg:top-8 lg:right-6 xl:right-12">
  <div id="copy-page-trigger">
    <button
      type="button"
      class="js-copy px-3 py-1 inline-flex items-center gap-1"
      data-url="https://raw.githubusercontent.com/cartography-cncf/cartography/refs/heads/master/docs/root/modules/spacelift/schema.md.txt"
    >
      <i class="i-lucide" data-icon="copy"></i>
      <span>Copy page</span>
    </button>
    <button class="js-menu px-2 py-1" type="button" aria-label="More actions"
      aria-haspopup="menu" aria-expanded="false" aria-controls="copy-page-content">
      <i class="i-lucide chevron-down"></i>
    </button>
  </div>
  <div id="copy-page-content" role="menu" aria-orientation="vertical" aria-hidden="true">
    <div role="presentation">
      <div class="flex flex-col" role="group">
        <button class="js-copy" type="button" role="menuitem"
          data-url="https://raw.githubusercontent.com/cartography-cncf/cartography/refs/heads/master/docs/root/modules/spacelift/schema.md.txt">
          <span class="iconify-icon">
            <i class="i-lucide" data-icon="copy"></i>
          </span>
          <span>Copy page</span>
        </button>
        <a role="menuitem" href="https://raw.githubusercontent.com/cartography-cncf/cartography/refs/heads/master/docs/root/modules/spacelift/schema.md.txt" target="_blank" rel="nofollow"><iconify-icon icon="bi:markdown"></iconify-icon>
            <span>View as Markdown</span></a><a role="menuitem" href="https://chatgpt.com/?hints=search&q=Read%20https%3A//raw.githubusercontent.com/cartography-cncf/cartography/refs/heads/master/docs/root/modules/spacelift/schema.md.txt%20so%20I%20can%20ask%20questions%20about%20it." target="_blank" rel="nofollow">
          <iconify-icon icon="bi:openai"></iconify-icon>
          <span>Open in ChatGPT</span>
        </a><a role="menuitem" href="https://claude.ai/new?q=Read%20https%3A//raw.githubusercontent.com/cartography-cncf/cartography/refs/heads/master/docs/root/modules/spacelift/schema.md.txt%20so%20I%20can%20ask%20questions%20about%20it." target="_blank" rel="nofollow">
          <iconify-icon icon="bi:claude"></iconify-icon>
          <span>Open in Claude</span>
        </a></div>
    </div>
  </div>
</div><article class="yue" role="main">
          <section id="spacelift-schema">
<h1>Spacelift Schema<a class="headerlink" href="#spacelift-schema" title="Link to this heading">¶</a></h1>
<pre  class="mermaid">
        graph LR

A(SpaceliftAccount) -- RESOURCE --&gt; S(SpaceliftSpace)
A -- RESOURCE --&gt; St(SpaceliftStack)
A -- RESOURCE --&gt; U(SpaceliftUser)
A -- RESOURCE --&gt; WP(SpaceliftWorkerPool)
A -- RESOURCE --&gt; W(SpaceliftWorker)
A -- RESOURCE --&gt; R(SpaceliftRun)
A -- RESOURCE --&gt; C(SpaceliftGitCommit)

S -- CONTAINS --&gt; S2(SpaceliftSpace)
St -- CONTAINS --&gt; St2(SpaceliftStack)
WP -- CONTAINS --&gt; W2(SpaceliftWorker)

St -- GENERATES --&gt; R
U -- TRIGGERED --&gt; R
W -- EXECUTES --&gt; R
C -- COMMITTED --&gt; R
R -- AFFECTS --&gt; EC2(EC2Instance)

U -- HAS_ROLE_IN --&gt; S
C -- CONFIRMED --&gt; U

GH(GitHubUser) -- PUSHED --&gt; C
    </pre><section id="spaceliftaccount">
<h2>SpaceliftAccount<a class="headerlink" href="#spaceliftaccount" title="Link to this heading">¶</a></h2>
<p>Representation of a single Spacelift Account (organization). This node represents the root organizational unit that contains all other Spacelift resources.</p>
<blockquote>
<div><p><strong>Ontology Mapping</strong>: This node has the extra label <code class="docutils literal notranslate"><span class="pre">Tenant</span></code> to enable cross-platform queries for tenant accounts across different systems (e.g., OktaOrganization, AWSAccount).</p>
</div></blockquote>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Field</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>firstseen</p></td>
<td><p>Timestamp of when a sync job first created this node</p></td>
</tr>
<tr class="row-odd"><td><p>lastupdated</p></td>
<td><p>Timestamp of the last time the node was updated</p></td>
</tr>
<tr class="row-even"><td><p>id</p></td>
<td><p>The unique account ID within Spacelift</p></td>
</tr>
<tr class="row-odd"><td><p>spacelift_account_id</p></td>
<td><p>The Spacelift account identifier</p></td>
</tr>
<tr class="row-even"><td><p>name</p></td>
<td><p>Display name of the Spacelift account</p></td>
</tr>
</tbody>
</table>
</div>
<section id="relationships">
<h3>Relationships<a class="headerlink" href="#relationships" title="Link to this heading">¶</a></h3>
<ul>
<li><p>SpaceliftAccount contains all other Spacelift resources via RESOURCE relationships:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="p">(</span><span class="n">SpaceliftAccount</span><span class="p">)</span><span class="o">-</span><span class="p">[</span><span class="n">RESOURCE</span><span class="p">]</span><span class="o">-&gt;</span><span class="p">(</span><span class="n">SpaceliftSpace</span><span class="p">)</span>
</span><span data-line="2"><span class="p">(</span><span class="n">SpaceliftAccount</span><span class="p">)</span><span class="o">-</span><span class="p">[</span><span class="n">RESOURCE</span><span class="p">]</span><span class="o">-&gt;</span><span class="p">(</span><span class="n">SpaceliftStack</span><span class="p">)</span>
</span><span data-line="3"><span class="p">(</span><span class="n">SpaceliftAccount</span><span class="p">)</span><span class="o">-</span><span class="p">[</span><span class="n">RESOURCE</span><span class="p">]</span><span class="o">-&gt;</span><span class="p">(</span><span class="n">SpaceliftUser</span><span class="p">)</span>
</span><span data-line="4"><span class="p">(</span><span class="n">SpaceliftAccount</span><span class="p">)</span><span class="o">-</span><span class="p">[</span><span class="n">RESOURCE</span><span class="p">]</span><span class="o">-&gt;</span><span class="p">(</span><span class="n">SpaceliftWorkerPool</span><span class="p">)</span>
</span><span data-line="5"><span class="p">(</span><span class="n">SpaceliftAccount</span><span class="p">)</span><span class="o">-</span><span class="p">[</span><span class="n">RESOURCE</span><span class="p">]</span><span class="o">-&gt;</span><span class="p">(</span><span class="n">SpaceliftWorker</span><span class="p">)</span>
</span><span data-line="6"><span class="p">(</span><span class="n">SpaceliftAccount</span><span class="p">)</span><span class="o">-</span><span class="p">[</span><span class="n">RESOURCE</span><span class="p">]</span><span class="o">-&gt;</span><span class="p">(</span><span class="n">SpaceliftRun</span><span class="p">)</span>
</span><span data-line="7"><span class="p">(</span><span class="n">SpaceliftAccount</span><span class="p">)</span><span class="o">-</span><span class="p">[</span><span class="n">RESOURCE</span><span class="p">]</span><span class="o">-&gt;</span><span class="p">(</span><span class="n">SpaceliftGitCommit</span><span class="p">)</span>
</span></pre></div>
</div>
</li>
</ul>
</section>
</section>
<section id="spaceliftspace">
<h2>SpaceliftSpace<a class="headerlink" href="#spaceliftspace" title="Link to this heading">¶</a></h2>
<p>Representation of an organizational container within Spacelift. Spaces can contain stacks, policies, contexts, modules, and worker pools. They form a hierarchy where root spaces belong directly to an account, and child spaces belong to parent spaces.</p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Field</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>firstseen</p></td>
<td><p>Timestamp of when a sync job first created this node</p></td>
</tr>
<tr class="row-odd"><td><p>lastupdated</p></td>
<td><p>Timestamp of the last time the node was updated</p></td>
</tr>
<tr class="row-even"><td><p>id</p></td>
<td><p>The unique space ID</p></td>
</tr>
<tr class="row-odd"><td><p>name</p></td>
<td><p>Name of the space</p></td>
</tr>
<tr class="row-even"><td><p>description</p></td>
<td><p>Description of the space</p></td>
</tr>
<tr class="row-odd"><td><p>is_root</p></td>
<td><p>Whether this is a root space (belongs directly to account)</p></td>
</tr>
<tr class="row-even"><td><p>spacelift_account_id</p></td>
<td><p>ID of the Spacelift account this space belongs to</p></td>
</tr>
<tr class="row-odd"><td><p>parent_spacelift_account_id</p></td>
<td><p>ID of the parent Spacelift account (set only for root spaces)</p></td>
</tr>
<tr class="row-even"><td><p>parent_space_id</p></td>
<td><p>ID of the parent space (set only for child spaces)</p></td>
</tr>
</tbody>
</table>
</div>
<section id="id1">
<h3>Relationships<a class="headerlink" href="#id1" title="Link to this heading">¶</a></h3>
<ul>
<li><p>SpaceliftSpaces belong to a SpaceliftAccount:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="p">(</span><span class="n">SpaceliftSpace</span><span class="p">)</span><span class="o">&lt;-</span><span class="p">[</span><span class="n">RESOURCE</span><span class="p">]</span><span class="o">-</span><span class="p">(</span><span class="n">SpaceliftAccount</span><span class="p">)</span>
</span></pre></div>
</div>
</li>
<li><p>SpaceliftSpaces can contain child spaces:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="p">(</span><span class="n">SpaceliftSpace</span><span class="p">)</span><span class="o">&lt;-</span><span class="p">[</span><span class="n">CONTAINS</span><span class="p">]</span><span class="o">-</span><span class="p">(</span><span class="n">SpaceliftSpace</span><span class="p">)</span>
</span></pre></div>
</div>
</li>
<li><p>SpaceliftUsers can have roles in spaces:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="p">(</span><span class="n">SpaceliftUser</span><span class="p">)</span><span class="o">-</span><span class="p">[</span><span class="n">HAS_ROLE_IN</span><span class="p">{</span><span class="n">role</span><span class="p">}]</span><span class="o">-&gt;</span><span class="p">(</span><span class="n">SpaceliftSpace</span><span class="p">)</span>
</span></pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">role</span></code> property indicates the user’s role (e.g., “admin”, “read”, “write”).</p>
</li>
</ul>
</section>
</section>
<section id="spaceliftuser">
<h2>SpaceliftUser<a class="headerlink" href="#spaceliftuser" title="Link to this heading">¶</a></h2>
<p>Representation of a human or machine identity that interacts with Spacelift. Users can have roles in different spaces and can trigger runs, approve changes, and manage resources.</p>
<blockquote>
<div><p><strong>Ontology Mapping</strong>: This node has the extra label <code class="docutils literal notranslate"><span class="pre">UserAccount</span></code> to enable cross-platform queries for user accounts across different systems (e.g., GitHubUser, DuoUser, SlackUser).</p>
</div></blockquote>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Field</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>firstseen</p></td>
<td><p>Timestamp of when a sync job first created this node</p></td>
</tr>
<tr class="row-odd"><td><p>lastupdated</p></td>
<td><p>Timestamp of the last time the node was updated</p></td>
</tr>
<tr class="row-even"><td><p>id</p></td>
<td><p>The unique user ID</p></td>
</tr>
<tr class="row-odd"><td><p>username</p></td>
<td><p>Username of the user</p></td>
</tr>
<tr class="row-even"><td><p>email</p></td>
<td><p>Email address of the user</p></td>
</tr>
<tr class="row-odd"><td><p>name</p></td>
<td><p>Full name of the user</p></td>
</tr>
<tr class="row-even"><td><p>user_type</p></td>
<td><p>Type of user (e.g., “human” or “machine”)</p></td>
</tr>
</tbody>
</table>
</div>
<section id="id2">
<h3>Relationships<a class="headerlink" href="#id2" title="Link to this heading">¶</a></h3>
<ul>
<li><p>SpaceliftUsers belong to a SpaceliftAccount:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="p">(</span><span class="n">SpaceliftUser</span><span class="p">)</span><span class="o">&lt;-</span><span class="p">[</span><span class="n">RESOURCE</span><span class="p">]</span><span class="o">-</span><span class="p">(</span><span class="n">SpaceliftAccount</span><span class="p">)</span>
</span></pre></div>
</div>
</li>
<li><p>SpaceliftUsers can have roles in spaces:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="p">(</span><span class="n">SpaceliftUser</span><span class="p">)</span><span class="o">-</span><span class="p">[</span><span class="n">HAS_ROLE_IN</span><span class="p">{</span><span class="n">role</span><span class="p">}]</span><span class="o">-&gt;</span><span class="p">(</span><span class="n">SpaceliftSpace</span><span class="p">)</span>
</span></pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">role</span></code> property indicates the user’s role in that space.</p>
</li>
<li><p>SpaceliftUsers can trigger runs:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="p">(</span><span class="n">SpaceliftUser</span><span class="p">)</span><span class="o">-</span><span class="p">[</span><span class="n">TRIGGERED</span><span class="p">]</span><span class="o">-&gt;</span><span class="p">(</span><span class="n">SpaceliftRun</span><span class="p">)</span>
</span></pre></div>
</div>
</li>
</ul>
</section>
</section>
<section id="spaceliftstack">
<h2>SpaceliftStack<a class="headerlink" href="#spaceliftstack" title="Link to this heading">¶</a></h2>
<p>Representation of the fundamental building block of Spacelift infrastructure management. A stack combines source code (from VCS), current state (e.g., Terraform state), and configuration (environment variables, mounted files) into an isolated, independent entity.</p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Field</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>firstseen</p></td>
<td><p>Timestamp of when a sync job first created this node</p></td>
</tr>
<tr class="row-odd"><td><p>lastupdated</p></td>
<td><p>Timestamp of the last time the node was updated</p></td>
</tr>
<tr class="row-even"><td><p>id</p></td>
<td><p>The unique stack ID</p></td>
</tr>
<tr class="row-odd"><td><p>name</p></td>
<td><p>Name of the stack</p></td>
</tr>
<tr class="row-even"><td><p>description</p></td>
<td><p>Description of the stack</p></td>
</tr>
<tr class="row-odd"><td><p>state</p></td>
<td><p>Current state of the stack</p></td>
</tr>
<tr class="row-even"><td><p>administrative</p></td>
<td><p>Whether this is an administrative stack</p></td>
</tr>
<tr class="row-odd"><td><p>repository</p></td>
<td><p>VCS repository URL for the stack</p></td>
</tr>
<tr class="row-even"><td><p>branch</p></td>
<td><p>Git branch the stack monitors</p></td>
</tr>
<tr class="row-odd"><td><p>project_root</p></td>
<td><p>Directory in repo containing infrastructure code</p></td>
</tr>
<tr class="row-even"><td><p>space_id</p></td>
<td><p>ID of the space this stack belongs to</p></td>
</tr>
<tr class="row-odd"><td><p>spacelift_account_id</p></td>
<td><p>ID of the Spacelift account this stack belongs to</p></td>
</tr>
</tbody>
</table>
</div>
<section id="id3">
<h3>Relationships<a class="headerlink" href="#id3" title="Link to this heading">¶</a></h3>
<ul>
<li><p>SpaceliftStacks belong to a SpaceliftAccount:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="p">(</span><span class="n">SpaceliftStack</span><span class="p">)</span><span class="o">&lt;-</span><span class="p">[</span><span class="n">RESOURCE</span><span class="p">]</span><span class="o">-</span><span class="p">(</span><span class="n">SpaceliftAccount</span><span class="p">)</span>
</span></pre></div>
</div>
</li>
<li><p>SpaceliftStacks belong to a SpaceliftSpace:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="p">(</span><span class="n">SpaceliftStack</span><span class="p">)</span><span class="o">&lt;-</span><span class="p">[</span><span class="n">CONTAINS</span><span class="p">]</span><span class="o">-</span><span class="p">(</span><span class="n">SpaceliftSpace</span><span class="p">)</span>
</span></pre></div>
</div>
</li>
<li><p>SpaceliftStacks generate runs:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="p">(</span><span class="n">SpaceliftStack</span><span class="p">)</span><span class="o">-</span><span class="p">[</span><span class="n">GENERATED</span><span class="p">]</span><span class="o">-&gt;</span><span class="p">(</span><span class="n">SpaceliftRun</span><span class="p">)</span>
</span></pre></div>
</div>
</li>
</ul>
</section>
</section>
<section id="spaceliftworkerpool">
<h2>SpaceliftWorkerPool<a class="headerlink" href="#spaceliftworkerpool" title="Link to this heading">¶</a></h2>
<p>Representation of a collection of workers that execute Spacelift runs. Worker pools can be public (managed by Spacelift) or private (managed by the customer). They provide isolation, security, and control over where infrastructure operations execute.</p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Field</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>firstseen</p></td>
<td><p>Timestamp of when a sync job first created this node</p></td>
</tr>
<tr class="row-odd"><td><p>lastupdated</p></td>
<td><p>Timestamp of the last time the node was updated</p></td>
</tr>
<tr class="row-even"><td><p>id</p></td>
<td><p>The unique worker pool ID</p></td>
</tr>
<tr class="row-odd"><td><p>name</p></td>
<td><p>Name of the worker pool</p></td>
</tr>
<tr class="row-even"><td><p>description</p></td>
<td><p>Description of the worker pool</p></td>
</tr>
<tr class="row-odd"><td><p>pool_type</p></td>
<td><p>Type of worker pool (e.g., “public”, “private”)</p></td>
</tr>
<tr class="row-even"><td><p>space_id</p></td>
<td><p>ID of the space this worker pool belongs to</p></td>
</tr>
<tr class="row-odd"><td><p>spacelift_account_id</p></td>
<td><p>ID of the Spacelift account this worker pool belongs to</p></td>
</tr>
</tbody>
</table>
</div>
<section id="id4">
<h3>Relationships<a class="headerlink" href="#id4" title="Link to this heading">¶</a></h3>
<ul>
<li><p>SpaceliftWorkerPools belong to a SpaceliftAccount:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="p">(</span><span class="n">SpaceliftWorkerPool</span><span class="p">)</span><span class="o">&lt;-</span><span class="p">[</span><span class="n">RESOURCE</span><span class="p">]</span><span class="o">-</span><span class="p">(</span><span class="n">SpaceliftAccount</span><span class="p">)</span>
</span></pre></div>
</div>
</li>
<li><p>SpaceliftWorkerPools belong to a SpaceliftSpace:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="p">(</span><span class="n">SpaceliftWorkerPool</span><span class="p">)</span><span class="o">&lt;-</span><span class="p">[</span><span class="n">CONTAINS</span><span class="p">]</span><span class="o">-</span><span class="p">(</span><span class="n">SpaceliftSpace</span><span class="p">)</span>
</span></pre></div>
</div>
</li>
<li><p>SpaceliftWorkerPools contain workers:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="p">(</span><span class="n">SpaceliftWorkerPool</span><span class="p">)</span><span class="o">-</span><span class="p">[</span><span class="n">CONTAINS</span><span class="p">]</span><span class="o">-&gt;</span><span class="p">(</span><span class="n">SpaceliftWorker</span><span class="p">)</span>
</span></pre></div>
</div>
</li>
</ul>
</section>
</section>
<section id="spaceliftworker">
<h2>SpaceliftWorker<a class="headerlink" href="#spaceliftworker" title="Link to this heading">¶</a></h2>
<p>Representation of a logical execution unit that processes runs. Workers are compute resources that execute infrastructure operations inside Docker containers. Each worker processes one run at a time.</p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Field</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>firstseen</p></td>
<td><p>Timestamp of when a sync job first created this node</p></td>
</tr>
<tr class="row-odd"><td><p>lastupdated</p></td>
<td><p>Timestamp of the last time the node was updated</p></td>
</tr>
<tr class="row-even"><td><p>id</p></td>
<td><p>The unique worker ID</p></td>
</tr>
<tr class="row-odd"><td><p>name</p></td>
<td><p>Name of the worker</p></td>
</tr>
<tr class="row-even"><td><p>status</p></td>
<td><p>Current status of the worker</p></td>
</tr>
<tr class="row-odd"><td><p>worker_pool_id</p></td>
<td><p>ID of the worker pool this worker belongs to</p></td>
</tr>
<tr class="row-even"><td><p>spacelift_account_id</p></td>
<td><p>ID of the Spacelift account this worker belongs to</p></td>
</tr>
</tbody>
</table>
</div>
<section id="id5">
<h3>Relationships<a class="headerlink" href="#id5" title="Link to this heading">¶</a></h3>
<ul>
<li><p>SpaceliftWorkers belong to a SpaceliftAccount:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="p">(</span><span class="n">SpaceliftWorker</span><span class="p">)</span><span class="o">&lt;-</span><span class="p">[</span><span class="n">RESOURCE</span><span class="p">]</span><span class="o">-</span><span class="p">(</span><span class="n">SpaceliftAccount</span><span class="p">)</span>
</span></pre></div>
</div>
</li>
<li><p>SpaceliftWorkers belong to a SpaceliftWorkerPool:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="p">(</span><span class="n">SpaceliftWorker</span><span class="p">)</span><span class="o">&lt;-</span><span class="p">[</span><span class="n">CONTAINS</span><span class="p">]</span><span class="o">-</span><span class="p">(</span><span class="n">SpaceliftWorkerPool</span><span class="p">)</span>
</span></pre></div>
</div>
</li>
<li><p>SpaceliftWorkers execute runs:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="p">(</span><span class="n">SpaceliftWorker</span><span class="p">)</span><span class="o">-</span><span class="p">[</span><span class="n">EXECUTED</span><span class="p">]</span><span class="o">-&gt;</span><span class="p">(</span><span class="n">SpaceliftRun</span><span class="p">)</span>
</span></pre></div>
</div>
</li>
</ul>
</section>
</section>
<section id="spaceliftrun">
<h2>SpaceliftRun<a class="headerlink" href="#spaceliftrun" title="Link to this heading">¶</a></h2>
<p>Representation of a job that can touch infrastructure. It is the execution instance of a stack’s configuration. Runs track the entire lifecycle from creation through execution to completion, including state changes, outputs, and resource modifications.</p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Field</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>firstseen</p></td>
<td><p>Timestamp of when a sync job first created this node</p></td>
</tr>
<tr class="row-odd"><td><p>lastupdated</p></td>
<td><p>Timestamp of the last time the node was updated</p></td>
</tr>
<tr class="row-even"><td><p>id</p></td>
<td><p>The unique run ID</p></td>
</tr>
<tr class="row-odd"><td><p>run_type</p></td>
<td><p>Type of run (e.g., “tracked”, “proposed”, “task”)</p></td>
</tr>
<tr class="row-even"><td><p>state</p></td>
<td><p>Current state of the run</p></td>
</tr>
<tr class="row-odd"><td><p>commit_sha</p></td>
<td><p>Git commit SHA that triggered this run</p></td>
</tr>
<tr class="row-even"><td><p>branch</p></td>
<td><p>Git branch this run belongs to</p></td>
</tr>
<tr class="row-odd"><td><p>created_at</p></td>
<td><p>Timestamp when the run was created</p></td>
</tr>
<tr class="row-even"><td><p>stack_id</p></td>
<td><p>ID of the stack this run belongs to</p></td>
</tr>
<tr class="row-odd"><td><p>triggered_by_user_id</p></td>
<td><p>ID of the user who triggered this run</p></td>
</tr>
<tr class="row-even"><td><p>spacelift_account_id</p></td>
<td><p>ID of the Spacelift account this run belongs to</p></td>
</tr>
</tbody>
</table>
</div>
<section id="id6">
<h3>Relationships<a class="headerlink" href="#id6" title="Link to this heading">¶</a></h3>
<ul>
<li><p>SpaceliftRuns belong to a SpaceliftAccount:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="p">(</span><span class="n">SpaceliftRun</span><span class="p">)</span><span class="o">&lt;-</span><span class="p">[</span><span class="n">RESOURCE</span><span class="p">]</span><span class="o">-</span><span class="p">(</span><span class="n">SpaceliftAccount</span><span class="p">)</span>
</span></pre></div>
</div>
</li>
<li><p>SpaceliftRuns are generated by SpaceliftStacks:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="p">(</span><span class="n">SpaceliftRun</span><span class="p">)</span><span class="o">&lt;-</span><span class="p">[</span><span class="n">GENERATED</span><span class="p">]</span><span class="o">-</span><span class="p">(</span><span class="n">SpaceliftStack</span><span class="p">)</span>
</span></pre></div>
</div>
</li>
<li><p>SpaceliftRuns are triggered by SpaceliftUsers:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="p">(</span><span class="n">SpaceliftRun</span><span class="p">)</span><span class="o">&lt;-</span><span class="p">[</span><span class="n">TRIGGERED</span><span class="p">]</span><span class="o">-</span><span class="p">(</span><span class="n">SpaceliftUser</span><span class="p">)</span>
</span></pre></div>
</div>
</li>
<li><p>SpaceliftRuns are executed by SpaceliftWorkers:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="p">(</span><span class="n">SpaceliftRun</span><span class="p">)</span><span class="o">&lt;-</span><span class="p">[</span><span class="n">EXECUTED</span><span class="p">]</span><span class="o">-</span><span class="p">(</span><span class="n">SpaceliftWorker</span><span class="p">)</span>
</span></pre></div>
</div>
</li>
<li><p>SpaceliftRuns are linked to the Git commit that triggered them:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="p">(</span><span class="n">SpaceliftRun</span><span class="p">)</span><span class="o">&lt;-</span><span class="p">[</span><span class="n">COMMITTED</span><span class="p">]</span><span class="o">-</span><span class="p">(</span><span class="n">SpaceliftGitCommit</span><span class="p">)</span>
</span></pre></div>
</div>
</li>
<li><p>SpaceliftRuns can affect EC2 Instances:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="p">(</span><span class="n">SpaceliftRun</span><span class="p">)</span><span class="o">-</span><span class="p">[</span><span class="n">AFFECTED</span><span class="p">]</span><span class="o">-&gt;</span><span class="p">(</span><span class="n">EC2Instance</span><span class="p">)</span>
</span></pre></div>
</div>
<p>This relationship is created from <strong>two sources</strong>, and a single EC2 instance may have multiple <code class="docutils literal notranslate"><span class="pre">AFFECTED</span></code> relationships to different runs:</p>
<p><strong>Source 1: Spacelift Entities API (always created during runs sync)</strong></p>
<ul class="simple">
<li><p>Created automatically when Spacelift reports managed resources via its entities API</p></li>
<li><p>Properties: <code class="docutils literal notranslate"><span class="pre">lastupdated</span></code> only</p></li>
<li><p>Represents the current Terraform state view of managed instances</p></li>
<li><p>The Instance Id from spacelift is often seen in hex format (seen when using workerpools), causing a mistmatch with the InstanceID on an EC2 Node. (Hence the need for Source 2)</p></li>
</ul>
<p><strong>Source 2: CloudTrail Data (optional, requires EC2 ownership configuration)</strong></p>
<ul class="simple">
<li><p>Created via MatchLink using CloudTrail data from S3</p></li>
<li><p>Additional properties with CloudTrail metadata:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">event_time</span></code>: Timestamp of the CloudTrail event</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">event_name</span></code>: Name of the AWS API call (e.g., “RunInstances”, “TerminateInstances”)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">aws_account</span></code>: AWS account ID where the event occurred</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">aws_region</span></code>: AWS region where the event occurred</p></li>
</ul>
</li>
<li><p>Loaded separately by the <code class="docutils literal notranslate"><span class="pre">ec2_ownership</span></code> module</p></li>
<li><p>Requires CLI configuration: <code class="docutils literal notranslate"><span class="pre">--spacelift-ec2-ownership-s3-bucket</span></code>, <code class="docutils literal notranslate"><span class="pre">--spacelift-ec2-ownership-s3-key</span></code>, and optionally <code class="docutils literal notranslate"><span class="pre">--spacelift-ec2-ownership-aws-profile</span></code></p></li>
</ul>
<p>Both relationships provide complementary views: the entities API shows current Terraform state, while CloudTrail shows historical AWS API interactions.</p>
</li>
</ul>
</section>
</section>
<section id="spaceliftgitcommit">
<h2>SpaceliftGitCommit<a class="headerlink" href="#spaceliftgitcommit" title="Link to this heading">¶</a></h2>
<p>Representation of a Git commit that triggered a Spacelift run. It contains metadata about the commit including the author, message, and timestamp.</p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Field</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>firstseen</p></td>
<td><p>Timestamp of when a sync job first created this node</p></td>
</tr>
<tr class="row-odd"><td><p>lastupdated</p></td>
<td><p>Timestamp of the last time the node was updated</p></td>
</tr>
<tr class="row-even"><td><p>id</p></td>
<td><p>The Git commit SHA (used as unique identifier)</p></td>
</tr>
<tr class="row-odd"><td><p>sha</p></td>
<td><p>The Git commit SHA</p></td>
</tr>
<tr class="row-even"><td><p>message</p></td>
<td><p>Commit message</p></td>
</tr>
<tr class="row-odd"><td><p>timestamp</p></td>
<td><p>ISO 8601 timestamp of when the commit was made</p></td>
</tr>
<tr class="row-even"><td><p>url</p></td>
<td><p>URL to view the commit in VCS</p></td>
</tr>
<tr class="row-odd"><td><p>author_login</p></td>
<td><p>Login/username of the commit author</p></td>
</tr>
<tr class="row-even"><td><p>author_name</p></td>
<td><p>Full name of the commit author</p></td>
</tr>
</tbody>
</table>
</div>
<section id="id7">
<h3>Relationships<a class="headerlink" href="#id7" title="Link to this heading">¶</a></h3>
<ul>
<li><p>SpaceliftGitCommits belong to a SpaceliftAccount:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="p">(</span><span class="n">SpaceliftGitCommit</span><span class="p">)</span><span class="o">&lt;-</span><span class="p">[</span><span class="n">RESOURCE</span><span class="p">]</span><span class="o">-</span><span class="p">(</span><span class="n">SpaceliftAccount</span><span class="p">)</span>
</span></pre></div>
</div>
</li>
<li><p>SpaceliftGitCommits are confirmed by SpaceliftUsers:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="p">(</span><span class="n">SpaceliftGitCommit</span><span class="p">)</span><span class="o">-</span><span class="p">[</span><span class="n">CONFIRMED</span><span class="p">]</span><span class="o">-&gt;</span><span class="p">(</span><span class="n">SpaceliftUser</span><span class="p">)</span>
</span></pre></div>
</div>
<p>This links commits to the human developers who wrote and confirmed the code, even when the deployment was triggered by an automated system (vcs/commit).</p>
</li>
<li><p>SpaceliftGitCommits are linked to the runs that use them:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="p">(</span><span class="n">SpaceliftGitCommit</span><span class="p">)</span><span class="o">-</span><span class="p">[</span><span class="n">COMMITTED</span><span class="p">]</span><span class="o">-&gt;</span><span class="p">(</span><span class="n">SpaceliftRun</span><span class="p">)</span>
</span></pre></div>
</div>
</li>
<li><p>GitHubUsers can be linked to the commits they authored:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="p">(</span><span class="n">GitHubUser</span><span class="p">)</span><span class="o">-</span><span class="p">[</span><span class="n">PUSHED</span><span class="p">]</span><span class="o">-&gt;</span><span class="p">(</span><span class="n">SpaceliftGitCommit</span><span class="p">)</span>
</span></pre></div>
</div>
<p>This relationship links GitHub users to commits deployed via Spacelift by matching <code class="docutils literal notranslate"><span class="pre">GitHubUser.username</span></code> with <code class="docutils literal notranslate"><span class="pre">SpaceliftGitCommit.author_login</span></code>. It provides full traceability from infrastructure changes back to the developers who wrote the code.</p>
</li>
</ul>
</section>
</section>
</section>

        </article><button class="back-to-top" type="button">
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
    <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
  </svg>
  <span>Back to top</span>
</button><div class="navigation flex print:hidden"><div class="navigation-prev">
    <a href="config.html">
      <i class="i-lucide chevron-left"></i>
      <div class="page-info">
        <span>Previous</span><div class="title">Spacelift Configuration</div></div>
    </a>
  </div><div class="navigation-next">
    <a href="../tailscale/index.html">
      <div class="page-info">
        <span>Next</span>
        <div class="title">Tailscale</div>
      </div>
      <i class="i-lucide chevron-right"></i>
    </a>
  </div></div></div>
    </div>
  </main>
</div>
<footer class="sy-foot">
  <div class="sy-foot-inner sy-container mx-auto">
    <div class="sy-foot-reserved md:flex justify-between items-center">
      <div class="sy-foot-copyright"><p>2021-2026, The Linux Foundation</p>
  
  <p>
    Made with
    
    <a href="https://www.sphinx-doc.org/">Sphinx</a> and
    
    <a href="https://shibuya.lepture.com">Shibuya theme</a>.
  </p>
</div>
      <div class="sy-foot-socials">
<a href="https://github.com/cartography-cncf/cartography" aria-label="GitHub">
  <iconify-icon icon="simple-icons:github"></iconify-icon>
</a>
<a href="https://communityinviter.com/apps/cloud-native/cncf" aria-label="Slack">
  <iconify-icon icon="simple-icons:slack"></iconify-icon>
</a></div>
    </div>
  </div>
</footer>
      <script src="../../_static/documentation_options.js?v=5929fcd5"></script>
      <script src="../../_static/doctools.js?v=9bcbadda"></script>
      <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
      <script src="../../_static/clipboard.min.js?v=a7894cd8"></script>
      <script src="../../_static/copybutton.js?v=f281be69"></script>
      <script src="../../_static/shibuya.js?v=cac61aee"></script>
      <script type="module" src="https://cdn.jsdelivr.net/npm/mermaid@11.12.1/dist/mermaid.esm.min.mjs"></script>
      <script type="module" src="https://cdn.jsdelivr.net/npm/@mermaid-js/layout-elk@0.2.0/dist/mermaid-layout-elk.esm.min.mjs"></script>
      <script type="module">import mermaid from "https://cdn.jsdelivr.net/npm/mermaid@11.12.1/dist/mermaid.esm.min.mjs";import elkLayouts from "https://cdn.jsdelivr.net/npm/@mermaid-js/layout-elk@0.2.0/dist/mermaid-layout-elk.esm.min.mjs";mermaid.registerLayoutLoaders(elkLayouts);mermaid.initialize({startOnLoad:false});</script>
      <script src="https://cdn.jsdelivr.net/npm/d3@7.9.0/dist/d3.min.js"></script>
      <script type="module">import mermaid from "https://cdn.jsdelivr.net/npm/mermaid@11.12.1/dist/mermaid.esm.min.mjs";

const defaultStyle = document.createElement('style');
defaultStyle.textContent = `pre.mermaid {
    /* Same as .mermaid-container > pre */
    display: block;
    width: 100%;
}

pre.mermaid > svg {
    /* Same as .mermaid-container > pre > svg */
    height: 500px;
    width: 100%;
    max-width: 100% !important;
}
`;
document.head.appendChild(defaultStyle);

const fullscreenStyle = document.createElement('style');
fullscreenStyle.textContent = `.mermaid-container {
    display: flex;
    flex-direction: row;
    width: 100%;
}

.mermaid-container > pre {
    display: block;
    width: 100%;
}

.mermaid-container > pre > svg {
    height: 500px;
    width: 100%;
    max-width: 100% !important;
}

.mermaid-fullscreen-btn {
    width: 28px;
    height: 28px;
    background: rgba(255, 255, 255, 0.95);
    border: 1px solid rgba(0, 0, 0, 0.3);
    border-radius: 4px;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.2s;
    box-shadow: 0 2px 6px rgba(0, 0, 0, 0.2);
    font-size: 14px;
    line-height: 1;
    padding: 0;
    color: #333;
}

.mermaid-fullscreen-btn:hover {
    opacity: 100% !important;
    background: rgba(255, 255, 255, 1);
    box-shadow: 0 3px 10px rgba(0, 0, 0, 0.3);
    transform: scale(1.1);
}

.mermaid-fullscreen-btn.dark-theme {
    background: rgba(50, 50, 50, 0.95);
    border: 1px solid rgba(255, 255, 255, 0.3);
    color: #e0e0e0;
}

.mermaid-fullscreen-btn.dark-theme:hover {
    background: rgba(60, 60, 60, 1);
    box-shadow: 0 3px 10px rgba(255, 255, 255, 0.2);
}

.mermaid-fullscreen-modal {
    display: none;
    position: fixed !important;
    top: 0 !important;
    left: 0 !important;
    width: 95vw;
    height: 100vh;
    background: rgba(255, 255, 255, 0.98);
    z-index: 9999;
    padding: 20px;
    overflow: auto;
}

.mermaid-fullscreen-modal.dark-theme {
    background: rgba(0, 0, 0, 0.98);
}

.mermaid-fullscreen-modal.active {
    display: flex;
    align-items: center;
    justify-content: center;
}

.mermaid-container-fullscreen {
    position: relative;
    width: 95vw;
    height: 90vh;
    max-width: 95vw;
    max-height: 90vh;
    background: white;
    border-radius: 8px;
    padding: 20px;
    box-shadow: 0 10px 40px rgba(0, 0, 0, 0.3);
    overflow: auto;
    display: flex;
    align-items: center;
    justify-content: center;
}

.mermaid-container-fullscreen.dark-theme {
    background: #1a1a1a;
    box-shadow: 0 10px 40px rgba(0, 0, 0, 0.8);
}

.mermaid-container-fullscreen pre.mermaid {
    width: 100%;
    height: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
}

.mermaid-container-fullscreen .mermaid svg {
    height: 100% !important;
    width: 100% !important;
    cursor: grab;
}

.mermaid-fullscreen-close {
    position: fixed !important;
    top: 20px !important;
    right: 20px !important;
    width: 40px;
    height: 40px;
    background: rgba(255, 255, 255, 0.95);
    border: 1px solid rgba(0, 0, 0, 0.2);
    border-radius: 50%;
    cursor: pointer;
    z-index: 10000;
    display: flex;
    align-items: center;
    justify-content: center;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
    transition: all 0.2s;
    font-size: 24px;
    line-height: 1;
    color: #333;
}

.mermaid-fullscreen-close:hover {
    background: white;
    box-shadow: 0 6px 16px rgba(0, 0, 0, 0.4);
    transform: scale(1.1);
}

.mermaid-fullscreen-close.dark-theme {
    background: rgba(50, 50, 50, 0.95);
    border: 1px solid rgba(255, 255, 255, 0.2);
    color: #e0e0e0;
}

.mermaid-fullscreen-close.dark-theme:hover {
    background: rgba(60, 60, 60, 1);
    box-shadow: 0 6px 16px rgba(255, 255, 255, 0.2);
}

.mermaid-fullscreen-modal .mermaid-fullscreen-btn {
    display: none !important;
}`;
document.head.appendChild(fullscreenStyle);

// Detect if page has dark background
const isDarkTheme = () => {
    const bgColor = window.getComputedStyle(document.body).backgroundColor;
    const match = bgColor.match(/rgb\((\d+),\s*(\d+),\s*(\d+)/);
    if (match) {
        const r = parseInt(match[1]);
        const g = parseInt(match[2]);
        const b = parseInt(match[3]);
        const brightness = (r * 299 + g * 587 + b * 114) / 1000;
        return brightness < 128;
    }
    return false;
};

const load = async () => {
    await mermaid.run();

    const all_mermaids = document.querySelectorAll(".mermaid");
    const mermaids_processed = document.querySelectorAll(".mermaid[data-processed='true']");

    if ("False" === "True") {
        const mermaids_to_add_zoom = -1 === -1 ? all_mermaids.length : -1;
        if(mermaids_to_add_zoom > 0) {
            var svgs = d3.selectAll("");
            if(all_mermaids.length !== mermaids_processed.length) {
                setTimeout(load, 200);
                return;
            } else if(svgs.size() !== mermaids_to_add_zoom) {
                setTimeout(load, 200);
                return;
            } else {
                svgs.each(function() {
                    var svg = d3.select(this);
                    svg.html("<g class='wrapper'>" + svg.html() + "</g>");
                    var inner = svg.select("g");
                    var zoom = d3.zoom().on("zoom", function(event) {
                        inner.attr("transform", event.transform);
                    });
                    svg.call(zoom);
                });
            }
        }
    } else if(all_mermaids.length !== mermaids_processed.length) {
        // Wait for mermaid to process all diagrams
        setTimeout(load, 200);
        return;
    }

    const darkTheme = isDarkTheme();

    // Stop here if not adding fullscreen capability
    if ("True" !== "True") return;

    const modal = document.createElement('div');
    modal.className = 'mermaid-fullscreen-modal' + (darkTheme ? ' dark-theme' : '');
    modal.setAttribute('role', 'dialog');
    modal.setAttribute('aria-modal', 'true');
    modal.setAttribute('aria-label', 'Fullscreen diagram viewer');
    modal.innerHTML = `
        <button class="mermaid-fullscreen-close${darkTheme ? ' dark-theme' : ''}" aria-label="Close fullscreen">✕</button>
        <div class="mermaid-container-fullscreen${darkTheme ? ' dark-theme' : ''}"></div>
    `;
    document.body.appendChild(modal);

    const modalContent = modal.querySelector('.mermaid-container-fullscreen');
    const closeBtn = modal.querySelector('.mermaid-fullscreen-close');

    let previousScrollOffset = [window.scrollX, window.scrollY];

    const closeModal = () => {
        modal.classList.remove('active');
        modalContent.innerHTML = '';
        document.body.style.overflow = ''
        window.scrollTo({left: previousScrollOffset[0], top: previousScrollOffset[1], behavior: 'instant'});
    };

    closeBtn.addEventListener('click', closeModal);
    modal.addEventListener('click', (e) => {
        if (e.target === modal) closeModal();
    });
    document.addEventListener('keydown', (e) => {
        if (e.key === 'Escape' && modal.classList.contains('active')) {
            closeModal();
        }
    });

    const allButtons = [];

    document.querySelectorAll('.mermaid').forEach((mermaidDiv) => {
        if (mermaidDiv.parentNode.classList.contains('mermaid-container') ||
            mermaidDiv.closest('.mermaid-fullscreen-modal')) {
            return;
        }

        const container = document.createElement('div');
        container.className = 'mermaid-container';
        mermaidDiv.parentNode.insertBefore(container, mermaidDiv);
        container.appendChild(mermaidDiv);

        const fullscreenBtn = document.createElement('button');
        fullscreenBtn.className = 'mermaid-fullscreen-btn' + (darkTheme ? ' dark-theme' : '');
        fullscreenBtn.setAttribute('aria-label', 'View diagram in fullscreen');
        fullscreenBtn.textContent = '⛶';
        fullscreenBtn.style.opacity = '50%';

        // Calculate dynamic position based on diagram's margin and padding
        const diagramStyle = window.getComputedStyle(mermaidDiv);
        const marginTop = parseFloat(diagramStyle.marginTop) || 0;
        const marginRight = parseFloat(diagramStyle.marginRight) || 0;
        const paddingTop = parseFloat(diagramStyle.paddingTop) || 0;
        const paddingRight = parseFloat(diagramStyle.paddingRight) || 0;
        fullscreenBtn.style.top = `${marginTop + paddingTop + 4}px`;
        fullscreenBtn.style.right = `${marginRight + paddingRight + 4}px`;

        fullscreenBtn.addEventListener('click', () => {
            previousScrollOffset = [window.scroll, window.scrollY];
            const clone = mermaidDiv.cloneNode(true);
            modalContent.innerHTML = '';
            modalContent.appendChild(clone);

            const svg = clone.querySelector('svg');
            if (svg) {
                svg.removeAttribute('width');
                svg.removeAttribute('height');
                svg.style.width = '100%';
                svg.style.height = 'auto';
                svg.style.maxWidth = '100%';
                svg.style.sdisplay = 'block';

                if ("False" === "True") {
                    setTimeout(() => {
                        const g = svg.querySelector('g');
                        if (g) {
                            var svgD3 = d3.select(svg);
                            svgD3.html("<g class='wrapper'>" + svgD3.html() + "</g>");
                            var inner = svgD3.select("g");
                            var zoom = d3.zoom().on("zoom", function(event) {
                                inner.attr("transform", event.transform);
                            });
                            svgD3.call(zoom);
                        }
                    }, 100);
                }
            }

            modal.classList.add('active');
            document.body.style.overflow = 'hidden';
        });

        container.appendChild(fullscreenBtn);
        allButtons.push(fullscreenBtn);
    });

    // Update theme classes when theme changes
    const updateTheme = () => {
        const dark = isDarkTheme();
        allButtons.forEach(btn => {
            if (dark) {
                btn.classList.add('dark-theme');
            } else {
                btn.classList.remove('dark-theme');
            }
        });
        if (dark) {
            modal.classList.add('dark-theme');
            modalContent.classList.add('dark-theme');
            closeBtn.classList.add('dark-theme');
        } else {
            modal.classList.remove('dark-theme');
            modalContent.classList.remove('dark-theme');
            closeBtn.classList.remove('dark-theme');
        }
    };

    // Watch for theme changes
    const observer = new MutationObserver(updateTheme);
    observer.observe(document.documentElement, {
        attributes: true,
        attributeFilter: ['class', 'style', 'data-theme']
    });
    observer.observe(document.body, {
        attributes: true,
        attributeFilter: ['class', 'style']
    });
};

window.addEventListener("load", load);
</script></body>
</html>